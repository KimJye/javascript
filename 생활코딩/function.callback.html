<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>값으로서의 함수와 콜백</title>
  </head>
  <body>
    <a>
      값으로서의 함수 : JavaScript에서는 함수도 객체다. 다시 말해서 일종의
      값이다.
    </a>
    <a> * 메소드 : 객체의 속성 값으로 담겨진 함수* </a>
    <script>
      // a : 객체
      // b : 변수, 속성
      // function() : 메소드
      a = {
        b: function() {}
      };
    </script>

    <a>
      함수는 값이기 때문에 다른 함수의 인자로 전달 될수도 있다.
    </a>

    <script>
      function cal(func, num) {
        return func(num);
      }
      function increase(num) {
        return num + 1;
      }
      function decrease(num) {
        return num - 1;
      }
      alert(cal(increase, 1));
      alert(cal(decrease, 1));
    </script>

    <a>
      함수는 함수의 리턴 값으로도 사용할 수 있다.
    </a>
    <script>
      function cal(mode) {
        var funcs = {
          plus: function(left, right) {
            // 1번
            return left + right;
          },
          minus: function(left, right) {
            // 2번
            return left - right;
          }
        };
        return funcs[mode];
      }
      alert(cal("plus")(2, 1)); // 1번 메소드가 리턴되고 실행된다.
      alert(cal("minus")(2, 1));
    </script>

    <a> 배열의 값으로도 사용할 수 있다</a>
    <script>
      var process = [
        function(input) {
          return input + 10;
        },
        function(input) {
          return input * input;
        },
        function(input) {
          return input / 2;
        }
      ];
      var input = 1;
      for (var i = 0; i < process.length; i++) {
        input = process[i](input);
      }
      alert(input);
    </script>

    <a> * Call Back * </a>
    <script>
      // 콜백함수
      function sortNumber(a, b) {
        // 위의 예제와 비교해서 a와 b의 순서를 바꾸면 정렬순서가 반대가 된다.
        return b - a;
      }
      var numbers = [20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1];
      alert(numbers.sort(sortNumber)); // array, [20,10,9,8,7,6,5,4,3,2,1]
    </script>
  </body>
</html>
